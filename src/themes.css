/* src/themes.css */

/* ==================== ВАЖНО ==================== 
   Светлая тема = ваши текущие стили (НЕ трогаем!)
   Темная тема = новые переменные (только для .dark-theme)
================================================= */

/* ==================== ТЕМНАЯ ТЕМА ==================== */
.dark-theme {
  /* Основные цвета фона */
  --bg-primary: #1C1C1E;
  --bg-secondary: #000000;
  --bg-tertiary: #2C2C2E;
  
  /* Цвета текста */
  --text-primary: #FFFFFF;
  --text-secondary: #EBEBF5;
  --text-tertiary: #8E8E93;
  --text-inverse: #000000;
  
  /* Акцентные цвета (остаются яркими) */
  --color-success: #A7D96C;
  --color-success-dark: #95C55D;
  --color-danger: #FF453A;
  --color-warning: #FF9F0A;
  --color-info: #0A84FF;
  
  /* Границы и разделители */
  --border-color: #38383A;
  --border-color-hover: #0A84FF;
  
  /* Тени (более мягкие в темной теме) */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.5);
  
  /* Градиенты */
  --gradient-bad-habit: linear-gradient(90deg, #A7D96C 0%, #FF6BF7 100%);
  
  /* Карточки */
  --card-bg: #2C2C2E;
  --card-bg-completed: #1E3A1E;
  --card-bg-failed: #3A1E1E;
  --card-bg-hover: #3A3A3C;
  
  /* Иконки привычек */
  --habit-icon-bg: #2C3E50;
  --habit-icon-bg-completed: #30D158;
  --habit-icon-bg-failed: #FF453A;
  
  /* Кнопки свайпа */
  --swipe-done-bg: #A7D96C;
  --swipe-done-text: #000000;
  --swipe-undone-bg: #5E7C9E;
  --swipe-undone-text: #FFFFFF;
  --swipe-skip-bg: #FF9F0A;
  --swipe-skip-text: #000000;
  
  /* Модальные окна */
  --modal-overlay: rgba(0, 0, 0, 0.75);
  --modal-bg: #2C2C2E;
  
  /* Inputs */
  --input-bg: #1C1C1E;
  --input-border: #38383A;
  --input-border-focus: #0A84FF;
  --input-placeholder: #636366;
  
  /* Подписка */
  --subscription-banner-bg: #3A2E1E;
  --subscription-banner-border: #FF9F0A;
  --subscription-banner-text: #FFD60A;
  
  /* Навигация по неделе */
  --week-nav-bg: transparent;
  --week-nav-text: #8E8E93;
  --week-nav-active-bg: #A7D96C;
  --week-nav-active-text: #000000;
  --week-nav-today-text: #EBEBF5;
}

/* ==================== ПЕРЕХОДЫ ==================== */
* {
  transition: background-color 0.3s ease, 
              color 0.3s ease, 
              border-color 0.3s ease,
              box-shadow 0.3s ease;
}

/* Отключаем переходы для элементов где они не нужны */
button:active,
.habit-card.swiping,
.habit-card.animating {
  transition: none !important;
}

/* ==================== FIX Z-INDEX ==================== */

/* Layout - базовый слой */
.layout {
  position: relative;
  z-index: 1;
}

/* Container - над layout */
.container {
  position: relative;
  z-index: 2;
}

/* Header - должен быть НАД контентом, но аватар не должен торчать */
.header {
  position: relative;
  z-index: 10;
}

/* Аватар внутри header - локальный z-index */
.header__avatar,
.header__user {
  position: relative;
  z-index: 1;
}

/* Today секция - основной контент */
.today {
  position: relative;
  z-index: 5;
}

/* Stats и habits - внутри today */
.today__stats,
.today__habits {
  position: relative;
  z-index: 1;
}

/* Карточки привычек */
.habit-card-container {
  position: relative;
  z-index: 1;
}

.habit-card {
  position: relative;
  z-index: 2;
}

/* FAB кнопка - над всем контентом */
.fab {
  position: fixed;
  z-index: 100 !important;
}

/* Модальные окна - самый верхний слой */
.subscription-modal-overlay {
  position: fixed;
  z-index: 3000 !important;
}

.subscription-modal {
  position: relative;
  z-index: 3001 !important;
}

/* КРИТИЧНО: отключаем transform для header */
.header,
.header__user,
.header__avatar {
  transform: none !important;
  will-change: auto !important;
}